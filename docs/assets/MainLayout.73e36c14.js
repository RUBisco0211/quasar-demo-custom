import{c as qe,I as je,J as Ue,K as Ke,L as Ge,aC as Je,i as Ce,e as Q,l as $e,r as $,a as o,N as Xe,bJ as Ye,w as f,aj as me,ba as E,a9 as Ze,o as et,R as G,h as z,aT as he,d as Se,g as Te,bK as tt,aL as at,D as lt,j as nt,ay as ot,bL as it,A as ut,Y as C,q as k,k as A,m as r,s as n,x as _,u as j,Z as oe,X as U,y as ge,E as rt,P as ie,U as be,z as ye,v as pe,F as we,au as st,bB as ke,T as dt,bg as ct,bM as vt,$ as ue}from"./index.48296d0d.js";import{T as re,c as ft,Q as se,a as K,b as _e}from"./TouchPan.5275e04d.js";import{a as mt,Q as ht}from"./QScrollArea.5c6db49b.js";import{Q as gt}from"./QLayout.ea5a59a3.js";import{_ as xe}from"./GlobalUserItem.2c2f778e.js";import"./position-engine.f527e95b.js";import"./QResizeObserver.0e1493e1.js";import"./QScrollObserver.3e3310ff.js";const Be=150;var bt=qe({name:"QDrawer",inheritAttrs:!1,props:{...je,...Ue,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ke,"onLayout","miniState"],setup(t,{slots:b,emit:d,attrs:s}){const y=Te(),{proxy:{$q:v}}=y,P=Ge(t,v),{preventBodyScroll:I}=tt(),{registerTimeout:D,removeTimeout:J}=Je(),a=Ce($e,Q);if(a===Q)return console.error("QDrawer needs to be child of QLayout"),Q;let m,w=null,S;const c=$(t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint),T=o(()=>t.mini===!0&&c.value!==!0),h=o(()=>T.value===!0?t.miniWidth:t.width),i=$(t.showIfAbove===!0&&c.value===!1?!0:t.modelValue===!0),W=o(()=>t.persistent!==!0&&(c.value===!0||Me.value===!0));function V(e,l){if(De(),e!==!1&&a.animate(),p(0),c.value===!0){const g=a.instances[R.value];g!==void 0&&g.belowBreakpoint===!0&&g.hide(!1),B(1),a.isContainer.value!==!0&&I(!0)}else B(0),e!==!1&&ae(!1);D(()=>{e!==!1&&ae(!0),l!==!0&&d("show",e)},Be)}function u(e,l){Le(),e!==!1&&a.animate(),B(0),p(L.value*h.value),le(),l!==!0?D(()=>{d("hide",e)},Be):J()}const{show:X,hide:O}=Xe({showing:i,hideOnRouteChange:W,handleShow:V,handleHide:u}),{addToHistory:De,removeFromHistory:Le}=Ye(i,O,W),H={belowBreakpoint:c,hide:O},x=o(()=>t.side==="right"),L=o(()=>(v.lang.rtl===!0?-1:1)*(x.value===!0?1:-1)),de=$(0),M=$(!1),Y=$(!1),ce=$(h.value*L.value),R=o(()=>x.value===!0?"left":"right"),Z=o(()=>i.value===!0&&c.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:h.value:0),ee=o(()=>t.overlay===!0||t.miniToOverlay===!0||a.view.value.indexOf(x.value?"R":"L")!==-1||v.platform.is.ios===!0&&a.isContainer.value===!0),F=o(()=>t.overlay===!1&&i.value===!0&&c.value===!1),Me=o(()=>t.overlay===!0&&i.value===!0&&c.value===!1),Ae=o(()=>"fullscreen q-drawer__backdrop"+(i.value===!1&&M.value===!1?" hidden":"")),Qe=o(()=>({backgroundColor:`rgba(0,0,0,${de.value*.4})`})),ve=o(()=>x.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Ie=o(()=>x.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Oe=o(()=>{const e={};return a.header.space===!0&&ve.value===!1&&(ee.value===!0?e.top=`${a.header.offset}px`:a.header.space===!0&&(e.top=`${a.header.size}px`)),a.footer.space===!0&&Ie.value===!1&&(ee.value===!0?e.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(e.bottom=`${a.footer.size}px`)),e}),Fe=o(()=>{const e={width:`${h.value}px`,transform:`translateX(${ce.value}px)`};return c.value===!0?e:Object.assign(e,Oe.value)}),ze=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Pe=o(()=>`q-drawer q-drawer--${t.side}`+(Y.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(P.value===!0?" q-drawer--dark q-dark":"")+(M.value===!0?" no-transition":i.value===!0?"":" q-layout--prevent-focus")+(c.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(ee.value===!0||F.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(ve.value===!0?" q-drawer--top-padding":""))),We=o(()=>{const e=v.lang.rtl===!0?t.side:R.value;return[[re,Ne,void 0,{[e]:!0,mouse:!0}]]}),Ve=o(()=>{const e=v.lang.rtl===!0?R.value:t.side;return[[re,fe,void 0,{[e]:!0,mouse:!0}]]}),He=o(()=>{const e=v.lang.rtl===!0?R.value:t.side;return[[re,fe,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function te(){Ee(c,t.behavior==="mobile"||t.behavior!=="desktop"&&a.totalWidth.value<=t.breakpoint)}f(c,e=>{e===!0?(m=i.value,i.value===!0&&O(!1)):t.overlay===!1&&t.behavior!=="mobile"&&m!==!1&&(i.value===!0?(p(0),B(0),le()):X(!1))}),f(()=>t.side,(e,l)=>{a.instances[l]===H&&(a.instances[l]=void 0,a[l].space=!1,a[l].offset=0),a.instances[e]=H,a[e].size=h.value,a[e].space=F.value,a[e].offset=Z.value}),f(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&te()}),f(()=>t.behavior+t.breakpoint,te),f(a.isContainer,e=>{i.value===!0&&I(e!==!0),e===!0&&te()}),f(a.scrollbarWidth,()=>{p(i.value===!0?0:void 0)}),f(Z,e=>{q("offset",e)}),f(F,e=>{d("onLayout",e),q("space",e)}),f(x,()=>{p()}),f(h,e=>{p(),ne(t.miniToOverlay,e)}),f(()=>t.miniToOverlay,e=>{ne(e,h.value)}),f(()=>v.lang.rtl,()=>{p()}),f(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Re(),a.animate())}),f(T,e=>{d("miniState",e)});function p(e){e===void 0?me(()=>{e=i.value===!0?0:h.value,p(L.value*e)}):(a.isContainer.value===!0&&x.value===!0&&(c.value===!0||Math.abs(e)===h.value)&&(e+=L.value*a.scrollbarWidth.value),ce.value=e)}function B(e){de.value=e}function ae(e){const l=e===!0?"remove":a.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Re(){w!==null&&clearTimeout(w),y.proxy&&y.proxy.$el&&y.proxy.$el.classList.add("q-drawer--mini-animate"),Y.value=!0,w=setTimeout(()=>{w=null,Y.value=!1,y&&y.proxy&&y.proxy.$el&&y.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ne(e){if(i.value!==!1)return;const l=h.value,g=E(e.distance.x,0,l);if(e.isFinal===!0){g>=Math.min(75,l)===!0?X():(a.animate(),B(0),p(L.value*l)),M.value=!1;return}p((v.lang.rtl===!0?x.value!==!0:x.value)?Math.max(l-g,0):Math.min(0,g-l)),B(E(g/l,0,1)),e.isFirst===!0&&(M.value=!0)}function fe(e){if(i.value!==!0)return;const l=h.value,g=e.direction===t.side,N=(v.lang.rtl===!0?g!==!0:g)?E(e.distance.x,0,l):0;if(e.isFinal===!0){Math.abs(N)<Math.min(75,l)===!0?(a.animate(),B(1),p(0)):O(),M.value=!1;return}p(L.value*N),B(E(1-N/l,0,1)),e.isFirst===!0&&(M.value=!0)}function le(){I(!1),ae(!0)}function q(e,l){a.update(t.side,e,l)}function Ee(e,l){e.value!==l&&(e.value=l)}function ne(e,l){q("size",e===!0?t.miniWidth:l)}return a.instances[t.side]=H,ne(t.miniToOverlay,h.value),q("space",F.value),q("offset",Z.value),t.showIfAbove===!0&&t.modelValue!==!0&&i.value===!0&&t["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),Ze(()=>{d("onLayout",F.value),d("miniState",T.value),m=t.showIfAbove===!0;const e=()=>{(i.value===!0?V:u)(!1,!0)};if(a.totalWidth.value!==0){me(e);return}S=f(a.totalWidth,()=>{S(),S=void 0,i.value===!1&&t.showIfAbove===!0&&c.value===!1?X(!1):e()})}),et(()=>{S!==void 0&&S(),w!==null&&(clearTimeout(w),w=null),i.value===!0&&le(),a.instances[t.side]===H&&(a.instances[t.side]=void 0,q("size",0),q("offset",0),q("space",!1))}),()=>{const e=[];c.value===!0&&(t.noSwipeOpen===!1&&e.push(G(z("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),We.value)),e.push(he("div",{ref:"backdrop",class:Ae.value,style:Qe.value,"aria-hidden":"true",onClick:O},void 0,"backdrop",t.noSwipeBackdrop!==!0&&i.value===!0,()=>He.value)));const l=T.value===!0&&b.mini!==void 0,g=[z("div",{...s,key:""+l,class:[ze.value,s.class]},l===!0?b.mini():Se(b.default))];return t.elevated===!0&&i.value===!0&&g.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(he("aside",{ref:"content",class:Pe.value,style:Fe.value},g,"contentclose",t.noSwipeClose!==!0&&c.value===!0,()=>Ve.value)),z("div",{class:"q-drawer-container"},e)}}}),yt=qe({name:"QPageContainer",setup(t,{slots:b}){const{proxy:{$q:d}}=Te(),s=Ce($e,Q);if(s===Q)return console.error("QPageContainer needs to be child of QLayout"),Q;at(lt,!0);const y=o(()=>{const v={};return s.header.space===!0&&(v.paddingTop=`${s.header.size}px`),s.right.space===!0&&(v[`padding${d.lang.rtl===!0?"Left":"Right"}`]=`${s.right.size}px`),s.footer.space===!0&&(v.paddingBottom=`${s.footer.size}px`),s.left.space===!0&&(v[`padding${d.lang.rtl===!0?"Right":"Left"}`]=`${s.left.size}px`),v});return()=>z("div",{class:"q-page-container",style:y.value},Se(b.default))}});const pt={class:"fixed-bottom edge-gradient-bottom"},Tt=nt({__name:"MainLayout",setup(t){const{leftDrawerOpen:b,leftDrawerMini:d}=ot(it());$("");const s=ut(),y=o(()=>s.dark.isActive?"bg-dark-page text-light":"bg-light-page text-dark");o(()=>s.dark.isActive?"bg-dark text-light":"bg-light text-dark");const v=o(()=>s.dark.isActive?"bg-dark-page text-light":"bg-light-page text-dark"),P=[{label:"\u8BED\u8A00",icon:"ri:translate"},{label:"\u641C\u7D22",icon:"ri:search-2-line"},{label:"\u901A\u77E5",icon:"ri:notification-3-line"}],I=[{label:"\u7528\u6237\u8BBE\u7F6E",icon:"ri:user-settings-line"},{label:"\u8BBE\u7F6E",icon:"ri:settings-5-line"}],D=$(),J=o(()=>{if(!D.value)return;const a=window.getComputedStyle(D.value.$el).height;return{height:`calc(100% - ${a})`,top:a}});return(a,m)=>{const w=C("BtnFlat"),S=C("DarkToggle"),c=C("Img"),T=C("Btn"),h=C("Header"),i=C("LogoItem"),W=C("SideNavMenu"),V=C("router-view");return k(),A(gt,{view:"lHh Lpr lFf",class:we(y.value)},{default:r(()=>[n(h,{class:we(["q-py-sm",v.value])},{left:r(()=>[_(s).screen.gt.sm?(k(),A(w,{key:1,round:"",icon:_(d)?"eva-menu-2-outline":"eva-menu-outline",onClick:m[1]||(m[1]=u=>d.value=!_(d))},null,8,["icon"])):(k(),A(w,{key:0,round:"",icon:_(b)?"eva-menu-2-outline":"eva-menu-outline",onClick:m[0]||(m[0]=u=>b.value=!_(b))},null,8,["icon"]))]),right:r(()=>[n(S,{color:"blue-5"}),_(s).screen.gt.sm?(k(),j(U,{key:0},oe(P,u=>n(w,{round:"",icon:u.icon,tooltip:u.label,key:u.label},null,8,["icon","tooltip"])),64)):ge("",!0),n(xe,{"avatar-only":"",class:"q-ml-sm"},{popup:r(()=>[n(ft,{style:{width:"250px"},"transition-show":"jump-down","transition-hide":"jump-up"},{default:r(()=>[n(mt,null,{default:r(()=>[G((k(),A(c,{onClick:m[2]||(m[2]=u=>a.$router.push({name:"personal"})),class:"full-width cursor-point",height:"150px",src:"https://images.unsplash.com/photo-1723155094419-5ac8b25072d7?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{default:r(()=>[rt("div",pt,[n(xe,{class:"q-ma-none q-pa-none"})])]),_:1})),[[ue]]),n(ie,{class:"q-mb-sm"}),_(s).screen.gt.md?ge("",!0):(k(),j(U,{key:0},[(k(),j(U,null,oe(P,u=>G(n(se,{clickable:"",key:u.label},{default:r(()=>[n(K,{side:""},{default:r(()=>[n(be,{name:u.icon},null,8,["name"])]),_:2},1024),n(K,null,{default:r(()=>[n(_e,null,{default:r(()=>[ye(pe(u.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),[[ue]])),64)),n(ie,{class:"q-my-sm"})],64)),(k(),j(U,null,oe(I,u=>G(n(se,{clickable:"",key:u.label},{default:r(()=>[n(K,{side:""},{default:r(()=>[n(be,{name:u.icon},null,8,["name"])]),_:2},1024),n(K,null,{default:r(()=>[n(_e,null,{default:r(()=>[ye(pe(u.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),[[ue]])),64)),n(ie,{class:"q-mt-sm"}),n(se,{class:"q-pa-md"},{default:r(()=>[n(T,{class:"full-width",label:"\u9000\u51FA\u767B\u5F55",color:"negative","icon-right":"ri:logout-box-r-line"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),n(bt,{bordered:"",mini:_(d),"onUpdate:mini":m[3]||(m[3]=u=>ke(d)?d.value=u:null),"model-value":_(b),"onUpdate:modelValue":m[4]||(m[4]=u=>ke(b)?b.value=u:null),"mini-width":64,width:280},{default:r(()=>[n(i,{class:"q-py-md q-mx-sm absolute-top",ref_key:"logoItemRef",ref:D},null,512),n(ht,{style:st(J.value)},{default:r(()=>[n(W,{mini:_(d)},null,8,["mini"])]),_:1},8,["style"])]),_:1},8,["mini","model-value"]),n(yt,null,{default:r(()=>[n(V,null,{default:r(({Component:u})=>[n(dt,{appear:"","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutUp",duration:{enter:300,leave:300},mode:"out-in"},{default:r(()=>[(k(),A(ct,null,[(k(),A(vt(u)))],1024))]),_:2},1024)]),_:1})]),_:1})]),_:1},8,["class"])}}});export{Tt as default};
